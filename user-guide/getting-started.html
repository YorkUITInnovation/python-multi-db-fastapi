<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Getting Started - YorkU Multi-DB API</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="sidebar">
        <div class="logo">
            <h2>üìö API Guide</h2>
        </div>
        <ul class="nav-menu">
            <li><a href="index.html">üè† Home</a></li>
            <li><a href="getting-started.html" class="active">üöÄ Getting Started</a></li>
            <li><a href="endpoints.html">üîå Endpoints</a></li>
            <li><a href="examples.html">üí° Examples</a></li>
            <li><a href="security.html">üîí Security</a></li>
            <li><a href="troubleshooting.html">üîß Troubleshooting</a></li>
            <li><a href="faq.html">‚ùì FAQ</a></li>
        </ul>
    </nav>

    <main class="content">
        <header>
            <h1>üöÄ Getting Started</h1>
            <p class="subtitle">Everything you need to start using the API</p>
        </header>

        <section>
            <h2>Prerequisites</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">‚úì</div>
                    <div class="step-content">
                        <h3>API Key</h3>
                        <p>You'll need an API key to authenticate your requests. Contact your system administrator to obtain one.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">‚úì</div>
                    <div class="step-content">
                        <h3>API URL</h3>
                        <p>The API is typically hosted at <code class="code-inline">http://localhost:8082</code> or your server's address.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">‚úì</div>
                    <div class="step-content">
                        <h3>HTTP Client</h3>
                        <p>Choose a tool to make HTTP requests: Postman, curl, your browser, or programming language.</p>
                    </div>
                </div>
            </div>
        </section>

        <section style="margin-top: 3rem;">
            <h2>Your First Request</h2>
            <p>Let's test if the API is working with a simple health check:</p>

            <div class="code-block-header">Health Check Request</div>
            <div class="code-block">curl http://localhost:8082/health</div>

            <div class="alert alert-success" style="margin-top: 1rem;">
                <strong>Expected Response:</strong><br>
                <code style="background: none; color: inherit;">{"status": "ok", "mode": "DEV"}</code>
            </div>

            <h3 style="margin-top: 2rem;">Using a Web Browser</h3>
            <p>Simply visit <a href="http://localhost:8082/health" target="_blank">http://localhost:8082/health</a> in your browser.</p>

            <h3 style="margin-top: 2rem;">Using Postman</h3>
            <ol style="margin-left: 2rem; color: #6b7280;">
                <li>Open Postman</li>
                <li>Create a new request</li>
                <li>Set method to <strong>GET</strong></li>
                <li>Enter URL: <code class="code-inline">http://localhost:8082/health</code></li>
                <li>Click <strong>Send</strong></li>
            </ol>
        </section>

        <section style="margin-top: 3rem;">
            <h2>Authentication</h2>
            <p>All endpoints (except <code class="code-inline">/health</code>) require an API key in the request header.</p>

            <div class="code-block-header">Adding API Key to Request</div>
            <div class="code-block">curl http://localhost:8082/connections \
  -H "X-API-KEY: your_api_key_here"</div>

            <div class="alert alert-info" style="margin-top: 1rem;">
                <strong>Important:</strong> Replace <code style="background: none; color: inherit;">your_api_key_here</code> with your actual API key.
            </div>

            <h3 style="margin-top: 2rem;">In Postman</h3>
            <ol style="margin-left: 2rem; color: #6b7280;">
                <li>Go to the <strong>Headers</strong> tab</li>
                <li>Add a new header:
                    <ul style="margin-top: 0.5rem;">
                        <li>Key: <code class="code-inline">X-API-KEY</code></li>
                        <li>Value: <code class="code-inline">your_api_key_here</code></li>
                    </ul>
                </li>
            </ol>
        </section>

        <section style="margin-top: 3rem;">
            <h2>Discover Available Databases</h2>
            <p>Before creating or querying data, let's see which databases are available:</p>

            <div class="code-block-header">List All Connections</div>
            <div class="code-block">curl http://localhost:8082/connections \
  -H "X-API-KEY: your_api_key_here"</div>

            <div style="background: white; padding: 1.5rem; border-radius: 0.5rem; margin-top: 1rem;">
                <strong>Sample Response:</strong>
                <pre style="background: #f9fafb; padding: 1rem; border-radius: 0.25rem; overflow-x: auto; margin-top: 0.5rem;"><code>{
  "status": "success",
  "summary": {
    "total_connections": 3,
    "by_type": {
      "oracle": 2,
      "mysql": 1,
      "postgres": 0,
      "mssql": 0
    }
  },
  "connections": {
    "oracle": {
      "yustart": {...},
      "eclass": {...}
    },
    "mysql": {
      "Early Alerts": {...}
    }
  }
}</code></pre>
            </div>

            <div class="alert alert-info" style="margin-top: 1rem;">
                <strong>What you'll see:</strong> A list of all available database servers grouped by type. You'll use these server names in your requests.
            </div>
        </section>

        <section style="margin-top: 3rem;">
            <h2>Making Your First Data Request</h2>
            <p>Now let's retrieve a record from a database:</p>

            <h3>Step 1: Prepare Your Request</h3>
            <p>You'll need:</p>
            <ul style="margin-left: 2rem; color: #6b7280;">
                <li><strong>Database type:</strong> oracle, mysql, postgres, or mssql</li>
                <li><strong>Server name:</strong> From the connections list (or leave blank if only one)</li>
                <li><strong>Table name:</strong> The table you want to query</li>
                <li><strong>Search parameters:</strong> What record to find (e.g., user_id: 12345)</li>
            </ul>

            <h3 style="margin-top: 1.5rem;">Step 2: Send the Request</h3>
            <div class="code-block-header">Get a Single Record</div>
            <div class="code-block">curl -X POST http://localhost:8082/getRecord \
  -H "X-API-KEY: your_api_key_here" \
  -H "Content-Type: application/json" \
  -d '{
    "dbtype": "mysql",
    "table": "users",
    "parameters": {"user_id": 12345}
  }'</div>

            <div class="alert alert-success" style="margin-top: 1rem;">
                <strong>Success!</strong> If the record exists, you'll get back all the data for that user.
            </div>
        </section>

        <section style="margin-top: 3rem;">
            <h2>Understanding Requests</h2>

            <h3>Request Structure</h3>
            <p>All POST requests follow this pattern:</p>

            <div style="background: white; padding: 1.5rem; border-radius: 0.5rem; margin-top: 1rem;">
                <table>
                    <thead>
                        <tr>
                            <th>Component</th>
                            <th>What It Is</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>URL</strong></td>
                            <td>The endpoint address</td>
                            <td><code class="code-inline">http://localhost:8082/getRecord</code></td>
                        </tr>
                        <tr>
                            <td><strong>Method</strong></td>
                            <td>GET or POST</td>
                            <td>POST</td>
                        </tr>
                        <tr>
                            <td><strong>Headers</strong></td>
                            <td>Authentication & format</td>
                            <td><code class="code-inline">X-API-KEY: abc123</code></td>
                        </tr>
                        <tr>
                            <td><strong>Body</strong></td>
                            <td>The data you're sending</td>
                            <td>JSON with your parameters</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3 style="margin-top: 2rem;">JSON Format</h3>
            <p>Request bodies use JSON format with curly braces and key-value pairs:</p>
            <div class="code-block">{
  "key": "value",
  "another_key": "another_value"
}</div>

            <div class="alert alert-warning" style="margin-top: 1rem;">
                <strong>Important:</strong> JSON is case-sensitive and requires double quotes around strings.
            </div>
        </section>

        <section style="margin-top: 3rem;">
            <h2>Interactive API Documentation</h2>
            <p>For the easiest way to test the API, use the built-in interactive documentation:</p>

            <div class="alert alert-info">
                <strong>Open in your browser:</strong> <a href="http://localhost:8082/docs" target="_blank">http://localhost:8082/docs</a>
                <br><br>
                This gives you a visual interface where you can:
                <ul style="margin-top: 0.5rem; margin-left: 1.5rem;">
                    <li>See all available endpoints</li>
                    <li>View example requests and responses</li>
                    <li>Try endpoints directly in your browser with "Try it out"</li>
                    <li>No need to type curl commands!</li>
                </ul>
            </div>
        </section>

        <section style="margin-top: 3rem;">
            <h2>Next Steps</h2>
            <div class="next-steps-grid">
                <a href="endpoints.html" class="next-step-card">
                    <h3>üìö Explore All Endpoints</h3>
                    <p>Learn about each endpoint in detail</p>
                </a>
                <a href="examples.html" class="next-step-card">
                    <h3>üí° See Real Examples</h3>
                    <p>Copy-paste examples for common tasks</p>
                </a>
                <a href="security.html" class="next-step-card">
                    <h3>üîí Security Best Practices</h3>
                    <p>Learn how to use the API safely</p>
                </a>
            </div>
        </section>

        <footer>
            <p>&copy; 2024 York University. Multi-Database REST API User Guide</p>
        </footer>
    </main>
</body>
</html>

